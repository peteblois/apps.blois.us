<!DOCTYPE html>
<html>
  <head>
    <title>r o o l e r</title>
    <style>
      html body {
        margin: 0;
        padding: 0;
        height: 100%;
      }
      body {
        font: .8em Arial, Helvetica, 'bitstream vera sans', sans-serif;
        overflow: hidden;
      }
      h1 {
        color: #888;
        font-size: 300%;
        letter-spacing: -3px;
        font-weight: bold;
        margin-bottom: -38px;
      }

      h2 {
        color: #CCC;
        font-size: 200%;
        letter-spacing: -2px;
        font-weight: bold;
      }

      a {
        text-decoration: none;
      }

      #contentRoot {
        position: absolute;
        width: 100%;
        height: 100%;
        background: white;
      }

      .content {
        width:200px;
        margin: 200px auto 0 auto;
      }

      #curve1 {
        position: fixed;
        bottom: 0;
        left: 0;
      }
      #curve2 {
        position: fixed;
        bottom: 0;
        right: 0;
      }

      #install {
        font-size: 150%;
        display: inline-block;
        padding: 3px 10px;
        margin-left: 94px;
        top: 186px;
        z-index: 5000;
        position: fixed;
        visibility: hidden;
        background-image: -webkit-linear-gradient(top,#888,#666);
        color: white;
      }
      #install:hover {
        background-image: -webkit-linear-gradient(top,#777,#555);
      }

    </style>

    <link href='rooler/rooler.css' rel='stylesheet' type='text/css'/>

    <script src='html2canvas.js' type='text/javascript'></script>
    <script src='rooler/screenshot.js' type='text/javascript'></script>
    <script src='rooler/capture.js' type='text/javascript'></script>
    <script src='rooler/screencoordinates.js' type='text/javascript'></script>
    <script src='rooler/magnifier.js' type='text/javascript'></script>
    <script src='rooler/bounds.js' type='text/javascript'></script>
    <script src='rooler/distance.js' type='text/javascript'></script>
    <script src='rooler/rooler.js' type='text/javascript'></script>

    <script type='text/javascript'>
    window.Rooler = {};
    var tool = null;

    start = function() {
      if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
        document.getElementById('install').style.visibility = 'visible';
      }

      if (tool) {
        tool.close();
        tool = null;
      }

      window.Rooler.screenCoordinates = new rooler.ScreenCoordinates();

      var hash = window.location.hash;
      var toolName = 'DistanceTool';
      if (hash) {
        var name = hash.slice(1);
        if (name == 'bounds') {
          toolName = 'BoundsTool';
        } else if (name == 'magnify') {
          toolName = 'Magnifier';
        }
      }

      tool = new rooler[toolName]();
      tool.setCanClose(false);

      updateScreenshot();
    }

    updateScreenshot = function() {
      var canvas = rooler.Html2Canvas.capture(document.getElementById('contentRoot'));
      window.Rooler.screenShot = new rooler.ScreenShot(canvas)

      // document.body.appendChild(canvas);
      // canvas.style.position = 'absolute';
      // canvas.style.top = '0';
      // canvas.style.left = '0';
      // canvas.style.opacity = .8;
    }

    window.addEventListener('load', function() {
      start();
    }, false);

    window.addEventListener('resize', function() {
      updateScreenshot();
    }, false);

    window.addEventListener('hashchange', function() {
      start();
    }, false);
    </script>
  </head>
  <body>
    <div id='contentRoot'>
      <div class='content'>
        <img id='curve1', src='curve.png'/>
        <img id='curve2', src='curve2.png'/>
        <div style='position: relative; top: -86px;'>
          <h1><span>Rooler</span></h1>
          <h2><span>Rool the world.</span></h2>

            <a id='install' href='rooler.crx'>Install</a>

        </div>
      </div>
    </div>
  </body>
</html>
